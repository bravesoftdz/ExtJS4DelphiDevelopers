{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "collapsed": false,
        "designer|initialView": true,
        "designer|userAlias": "countrymodels",
        "designer|userClassName": "CountryModels",
        "height": 600,
        "layout": "border",
        "shrinkWrap": 0,
        "title": "Country App",
        "width": 800
    },
    "configAlternates": {
        "collapsed": "boolean",
        "designer|initialView": "boolean",
        "designer|userAlias": "string",
        "designer|userClassName": "string",
        "height": "auto",
        "layout": "string",
        "shrinkWrap": "number",
        "title": "string",
        "width": "auto"
    },
    "designerId": "6cca1760-c1f6-47c7-b878-eb98a3b27b6d",
    "viewControllerInstanceId": "b8e8065f-4ac5-4448-9f9f-a878337383dc",
    "viewModelInstanceId": "32e19768-a03f-4987-9536-620100d54865",
    "cn": [
        {
            "type": "Ext.grid.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "forceFit": true,
                "layout|flex": 1,
                "layout|region": "center",
                "layout|split": true,
                "reference": "list",
                "resizable": false,
                "store": [
                    "{countryModels}"
                ],
                "title": ""
            },
            "configAlternates": {
                "store": "binding",
                "forceFit": "boolean",
                "layout|flex": "number",
                "layout|region": "string",
                "layout|split": "boolean",
                "reference": "string",
                "resizable": "boolean",
                "title": "string"
            },
            "name": "MyGridPanel",
            "designerId": "6faf4838-787c-4283-9aa1-a91672294db7",
            "cn": [
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "COUNTRY",
                        "text": "Country"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string"
                    },
                    "name": "MyColumn",
                    "designerId": "df6837bf-a0ff-48ea-991e-bb15f21d947d"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "CURRENCY",
                        "text": "Currency"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string"
                    },
                    "name": "MyColumn1",
                    "designerId": "e7dbf49e-65f3-4c3c-ad67-14c9a96f1603"
                },
                {
                    "type": "viewcontrollereventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "select",
                        "implHandler": [
                            "// Set selected record",
                            "this.getViewModel().set('record', record);",
                            "",
                            "// Show details",
                            "this.showView('details');"
                        ],
                        "name": "select",
                        "scope": "me"
                    },
                    "configAlternates": {
                        "fn": "string",
                        "implHandler": "code",
                        "name": "string",
                        "scope": "string"
                    },
                    "name": "select",
                    "designerId": "d8ba3a71-9ddd-4b6b-81b9-ee44aab5760e"
                }
            ]
        },
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyBorder": true,
                "layout": "card",
                "layout|flex": 1,
                "layout|region": "east",
                "layout|split": true,
                "reference": "display",
                "width": 150
            },
            "configAlternates": {
                "bodyBorder": "boolean",
                "layout": "string",
                "layout|flex": "number",
                "layout|region": "string",
                "layout|split": "boolean",
                "reference": "string",
                "width": "auto"
            },
            "name": "MyPanel",
            "designerId": "438e09b5-eec7-4df4-ad72-1672ba2b69a4",
            "cn": [
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "center",
                        "container|pack": "center",
                        "layout": "vbox",
                        "reference": "selectMessage"
                    },
                    "configAlternates": {
                        "container|align": "string",
                        "container|pack": "string",
                        "layout": "string",
                        "reference": "string"
                    },
                    "name": "MyPanel1",
                    "designerId": "ff9d9b3c-ae46-4d83-a82d-6d0fc6d45068",
                    "cn": [
                        {
                            "type": "Ext.container.Container",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|displayName": "message",
                                "html": "\"<h1>Please select a record</h1>\"",
                                "layout|flex": 1
                            },
                            "configAlternates": {
                                "designer|displayName": "string",
                                "html": "string",
                                "layout|flex": "number"
                            },
                            "name": "MyContainer",
                            "designerId": "7eb95795-d6bc-41ed-b5ed-30cf8f06b8d7"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": 10,
                        "reference": "details"
                    },
                    "configAlternates": {
                        "bodyPadding": "auto",
                        "reference": "string"
                    },
                    "name": "MyPanel2",
                    "designerId": "327ec9ca-697a-4d0a-88f3-961cef691a0c",
                    "cn": [
                        {
                            "type": "Ext.form.field.Display",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Country",
                                "value": [
                                    "{record.COUNTRY}"
                                ]
                            },
                            "configAlternates": {
                                "value": "binding",
                                "fieldLabel": "string"
                            },
                            "name": "MyDisplayField",
                            "designerId": "d5776e75-1f0e-4cf9-bed1-6ec8593585f9"
                        },
                        {
                            "type": "Ext.form.field.Display",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Currency",
                                "value": [
                                    "{record.CURRENCY}"
                                ]
                            },
                            "configAlternates": {
                                "value": "binding",
                                "fieldLabel": "string"
                            },
                            "name": "MyDisplayField1",
                            "designerId": "43b19902-7244-40c9-b3f1-85eb826fb9ba"
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": 10,
                        "reference": "form",
                        "title": "Edit CountryModel"
                    },
                    "configAlternates": {
                        "bodyPadding": "auto",
                        "reference": "string",
                        "title": "string"
                    },
                    "name": "MyForm",
                    "designerId": "b0f1743e-c425-4af4-8062-5c5925bd61ce",
                    "cn": [
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "enforceMaxLength": true,
                                "fieldLabel": "Country",
                                "maxLength": 15,
                                "minLength": null,
                                "name": "COUNTRY"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "name": "string",
                                "enforceMaxLength": "boolean",
                                "maxLength": "number",
                                "minLength": "number"
                            },
                            "name": "MyTextField",
                            "designerId": "3f731147-ba38-4ad1-ba21-6acb80a4e303"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "enforceMaxLength": true,
                                "fieldLabel": "Currency",
                                "maxLength": 10,
                                "name": "CURRENCY"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "name": "string",
                                "enforceMaxLength": "boolean",
                                "maxLength": "number"
                            },
                            "name": "MyTextField1",
                            "designerId": "c316170d-2125-47ea-a58e-41b34459f4a8"
                        },
                        {
                            "type": "Ext.container.Container",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "container|align": "middle",
                                "container|pack": "center",
                                "designer|displayName": "buttons",
                                "layout": "hbox",
                                "padding": 10
                            },
                            "configAlternates": {
                                "container|align": "string",
                                "container|pack": "string",
                                "designer|displayName": "string",
                                "layout": "string",
                                "padding": "auto"
                            },
                            "name": "MyContainer1",
                            "designerId": "30b515dc-5433-40e7-9319-7a1d724c09f9",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "formBind": true,
                                        "itemId": "saveButton",
                                        "layout|flex": 1,
                                        "margin": 5,
                                        "text": "Save"
                                    },
                                    "configAlternates": {
                                        "formBind": "boolean",
                                        "itemId": "string",
                                        "layout|flex": "number",
                                        "margin": "auto",
                                        "text": "string"
                                    },
                                    "name": "MyButton",
                                    "designerId": "fec4dc3e-256c-414f-bd51-b98bc838a5b1",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "save",
                                                "implHandler": [
                                                    "var form = this.getReferences().form.getForm(),",
                                                    "    record = form.getRecord(),",
                                                    "    store = this.getStore('countryModels');",
                                                    "",
                                                    "// Valid",
                                                    "if (form.isValid()) {",
                                                    "",
                                                    "    // Update associated record with values",
                                                    "    form.updateRecord();",
                                                    "",
                                                    "    // Add to store if new record",
                                                    "    if (record.phantom) {",
                                                    "",
                                                    "        // TODO: Assign the record's ID from data source",
                                                    "        // Normally, this value would be auto-generated,",
                                                    "        // or returned from the server",
                                                    "        //var id = store.count() + 1;",
                                                    "        //record.set('id', id);",
                                                    "",
                                                    "        // Add to store",
                                                    "        store.add(record);",
                                                    "",
                                                    "    }",
                                                    "",
                                                    "    // Commit changes",
                                                    "    store.commitChanges();",
                                                    "",
                                                    "    // Display record",
                                                    "    this.select(this, record);",
                                                    "",
                                                    "}"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "save",
                                            "designerId": "8eb679ef-cb29-481f-acd3-26071f487db1"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "itemId": "cancelButton",
                                        "layout|flex": 1,
                                        "margin": 5,
                                        "text": "Cancel"
                                    },
                                    "configAlternates": {
                                        "itemId": "string",
                                        "layout|flex": "number",
                                        "margin": "auto",
                                        "text": "string"
                                    },
                                    "name": "MyButton1",
                                    "designerId": "4737b6ef-4e38-419c-96aa-a0bdcaf4a14c",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "cancelEdit",
                                                "implHandler": [
                                                    "// Show details",
                                                    "this.showView('details');"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "cancelEdit",
                                            "designerId": "30a9d93b-1486-4ea8-812e-41c4c8501e44"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|displayName": "toolbar",
                "dock": "top"
            },
            "configAlternates": {
                "designer|displayName": "string",
                "dock": "string"
            },
            "name": "MyToolbar",
            "designerId": "95a67e88-725c-4143-8920-ecb1260d0a2e",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null,
                        "text": "Add"
                    },
                    "configAlternates": {
                        "layout|flex": "number",
                        "text": "string"
                    },
                    "name": "MyButton2",
                    "designerId": "69cf9e25-399f-4bb0-8f96-e899de62e83f",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "add",
                                "implHandler": [
                                    "var formPanel = this.getReferences().form,",
                                    "    form = formPanel.getForm(),",
                                    "    newRecord = Ext.create('model.countrymodel');",
                                    "    newRecord.set('COUNTRY', '');",
                                    "    newRecord.set('CURRENCY', '');",
                                    "",
                                    "// Clear form",
                                    "form.reset();",
                                    "",
                                    "// Set record",
                                    "form.loadRecord(newRecord);",
                                    "",
                                    "// Set title",
                                    "formPanel.setTitle('Add CountryModel');",
                                    "",
                                    "// Show form",
                                    "this.showView('form');"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "add",
                            "designerId": "3a4d03ed-ed0e-4230-b093-52e895dc958a"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": [
                            "{!record}"
                        ],
                        "layout|flex": null,
                        "text": "Edit"
                    },
                    "configAlternates": {
                        "hidden": "binding",
                        "layout|flex": "number",
                        "text": "string"
                    },
                    "name": "MyButton3",
                    "designerId": "1bdc14a5-3380-4907-9f4d-fdf618c51556",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "edit",
                                "implHandler": [
                                    "var formPanel = this.getReferences().form,",
                                    "    form = formPanel.getForm(),",
                                    "    record = this.getViewModel().get('record');",
                                    "",
                                    "// Load record model into form",
                                    "form.loadRecord(record);",
                                    "",
                                    "// Set title",
                                    "formPanel.setTitle('Edit CountryModel');",
                                    "",
                                    "// Show form",
                                    "this.showView('form');"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "edit",
                            "designerId": "910db3f5-135b-4816-b57a-be59f96b973c"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": [
                            "{!record}"
                        ],
                        "layout|flex": null,
                        "text": "Remove"
                    },
                    "configAlternates": {
                        "hidden": "binding",
                        "layout|flex": "number",
                        "text": "string"
                    },
                    "name": "MyButton4",
                    "designerId": "cc4c5c36-d296-4691-aa8c-810d45b4fc61",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "remove",
                                "implHandler": [
                                    "var me = this;",
                                    "",
                                    "// Ask user to confirm this action",
                                    "Ext.Msg.confirm('Confirm Delete', 'Are you sure you want to delete this country?', function(result) {",
                                    "",
                                    "    // User confirmed yes",
                                    "    if (result == 'yes') {",
                                    "",
                                    "        var record = me.getViewModel().get('record'),",
                                    "            store = me.getStore('countryModels');",
                                    "",
                                    "        // Delete record from store",
                                    "        store.remove(record);",
                                    "",
                                    "        // Hide display",
                                    "        me.showView('selectMessage');",
                                    "",
                                    "    }",
                                    "",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "remove",
                            "designerId": "26d8808c-ca39-4022-b5e2-d572446f6eaf"
                        }
                    ]
                }
            ]
        }
    ]
}